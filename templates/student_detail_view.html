{% extends "base.html" %}
{% load static %}



{% block title %}
    <title>{{ object.studentPerson.initials }}</title>
{% endblock %}

{% block content %}

    <h2 style="color: black">
        {{ person.person_surname_txt }} {{ person.person_name_txt }} {{ person.person_father_name_txt }} ID: {{ person.pk }}
    </h2>

    <div style="display: inline-block">
        <table class="table main-table" style="width: 350px;">
            <tr>
                <td> Фамилия </td>
                <td> {{ person.person_surname_txt }} </td>
            </tr>
            <tr>
                <td> Имя </td>
                <td> {{ person.person_name_txt }} </td>
            </tr>
            <tr>
                <td> Отчество </td>
                <td> {{ person.person_father_name_txt }} </td>
            </tr>
            <tr>
                <td> Дата рождения </td>
                <td> {{ person.birth_dt }} </td>
            </tr>
        </table>
    </div>

    <div style="display: inline-block">
        <table class="table main-table" style="width: 350px">
            <tr>
                <td> Дата начала учебы </td>
                <td> {{ student_person.education_start_year }} </td>
            </tr>
            <tr>
                <td> Школа </td>
                <td> {{ student_person.school_name_txt }} </td>
            </tr>
            <tr>
                <td> Литер класса </td>
                <td> {{ student_person.liter }} </td>
            </tr>
        </table>
    </div>

    <h3 style="color: black; width: 100%">Договоры</h3>

    <table class="table main-table" style="width: 100%">
        <colgroup>
            <col style="width: 90px">
            <col>
            <col>
        </colgroup>
        <thead>
            <tr>
                <td>Общие данные</td>
                <td>Потребитель</td>
                <td>Плательщик</td>
            </tr>
        </thead>
        {% for contract in contracts %}
            <tr>
                <td>
                    <div>
                        <div class="non-editing-field-container">
                            <div class="main-contract-data-box" style="">
                                <div style="display: inline-block; width: 98%;">
                                    {{ contract.course_element.course.sphere_txt }}
                                </div>
                                <div style="display: inline-block; width: 98%;">
                                    {{ contract.course_element.course.name_txt }}
                                </div>
                                <div style="display: inline-block; width: 98%;">
                                    {{ contract.course_element.course.short_nm }}
                                </div>
                                <div style="display: inline-block; width: 98%;">
                                     {{ contract.course_element.course.price_per_hour }} руб - {{ contract.course_element.course.number_of_hours }} ч - in develop
                                </div>
                            </div>
                        </div>


                    </div>

                    <div class="editing-field-container" style="width: 200px">
                        <div class="main-contract-data-box" >
                        <div style="display: inline-block; width: 98%;">
                            {{ contract.course_element.teacher_person.surname_txt }}Демфамилия<br>
                            пн вт ср чт
                        </div>
                    </div>
                        <button style="background-color: #3b5998; height: 60px;" onclick="demo();">
                            <span class="glyphicon glyphicon-pencil"/>
                        </button>
                    </div>

                    <button class="long-button" style="margin-left: 0">
                            <span class="glyphicon glyphicon-print"/>
                        </button>

                    <button class="long-button">
                            <span class="glyphicon glyphicon-remove"/>
                        </button>

                    <button class="long-button">
                            <span class="glyphicon glyphicon-credit-card"/>
                        </button>

                    <button class="long-button">
                            <span class="glyphicon glyphicon-arrow-down"/>
                        </button>
                </td>
                <td>

                    <div class="editing-field-container">
                        <div class="passport-data-box" id="document_data_{{ contract.student_document.pk }}">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{ contract.student_document.pk }}">
                            <input type="text" name="person_surname_txt" value="{{ contract.student_document.person_surname_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(33% - 2px)" readonly/>
                            <input type="text" name="person_name_txt" value="{{ contract.student_document.person_name_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(33% - 2px)" readonly/>
                            <input type="text" name="person_father_name_txt" value="{{ contract.student_document.person_father_name_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(33% - 2px)" readonly/>
                            <input type="text" name="authority_txt" value="{{ contract.student_document.authority_txt }}" style="background-color: #3b5998; border-width: 0; width: 100%" readonly/>
                            <input type="text" name="document_type_txt" value="{{ contract.student_document.document_type_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(100% - 314px)" readonly/>
                            <input type="text" name="authority_no" value="{{ contract.student_document.authority_no }}" style="background-color: #3b5998; border-width: 0; width: 90px" readonly/>
                            <input type="text" name="issue_dt_day" value="{{ contract.student_document.issue_dt.day }}" style="background-color: #3b5998; border-width: 0; width: 16px; margin-left: 20px" readonly/>-
                            <input type="text" name="issue_dt_month" value="{{ contract.student_document.issue_dt.month }}" style="background-color: #3b5998; border-width: 0; width: 16px" readonly/>-
                            <input type="text" name="issue_dt_year" value="{{ contract.student_document.issue_dt.year }}" style="background-color: #3b5998; border-width: 0; width: 33px" readonly/>
                            <input type="text" name="document_series" value="{{ contract.student_document.document_series }}" style="background-color: #3b5998; border-width: 0; width: 33px; margin-left: 20px" readonly/>
                            <input type="text" name="document_no" value="{{ contract.student_document.document_no }}" style="background-color: #3b5998; border-width: 0; width: 50px" readonly/>
                        </div>

                        <button style="background-color: #3b5998; height: 89px;" onclick="DocumentEditFunctions.enableEditDocumentMode({{ contract.student_document.pk }})" id="document_data_button_{{ contract.student_document.pk }}">
                            <span class="glyphicon glyphicon-pencil" id="document_data_button_span_{{ contract.student_document.pk }}"/>
                        </button>
                    </div>


                    <div class="editing-field-container">
                        <div class="address-data-box">
                            <div style="display: inline-block; width: 98%;">
                                лист регионов     {{ contract.student_address.city_txt }}
                            </div>
                            <div style="display: inline-block; width: 98%;">

                            </div>
                            <div style="display: inline-block; width: 98%;">
                                {{ contract.student_address.street_txt }} - {{ contract.student_address.house_txt }} - {{ contract.student_address.building_no }} - {{ contract.student_address.structure_no }} - {{ contract.student_address.flat_nm }}
                            </div>
                        </div>
                        <button style="background-color: #3b5998; height: 65px;">
                            <span class="glyphicon glyphicon-pencil"/>
                        </button>
                    </div>

                    <div class="editing-field-container">
                        <div class="one-field-data-box">
                            <div>
                                +{{ contract.student_phone_no }}
                            </div>
                        </div>
                        <button style="background-color: #3b5998; height: 40px;">
                            <span class="glyphicon glyphicon-pencil"/>
                        </button>
                    </div>
                </td>
                <td>
                    <div class="editing-field-container">
                        <div class="passport-data-box" id="document_data_{{ contract.payer_document.pk }}">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{ contract.payer_document.pk }}">
                            <input type="text" name="person_surname_txt" value="{{ contract.payer_document.person_surname_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(33% - 2px)" readonly/>
                            <input type="text" name="person_name_txt" value="{{ contract.payer_document.person_name_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(33% - 2px)" readonly/>
                            <input type="text" name="person_father_name_txt" value="{{ contract.payer_document.person_father_name_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(33% - 2px)" readonly/>
                            <input type="text" name="authority_txt" value="{{ contract.payer_document.authority_txt }}" style="background-color: #3b5998; border-width: 0; width: 100%" readonly/>
                            <input type="text" name="document_type_txt" value="{{ contract.payer_document.document_type_txt }}" style="background-color: #3b5998; border-width: 0; width: calc(100% - 314px)" readonly/>
                            <input type="text" name="authority_no" value="{{ contract.payer_document.authority_no }}" style="background-color: #3b5998; border-width: 0; width: 90px" readonly/>
                            <input type="text" name="issue_dt_day" value="{{ contract.payer_document.issue_dt.day }}" style="background-color: #3b5998; border-width: 0; width: 16px; margin-left: 20px" readonly/>-
                            <input type="text" name="issue_dt_month" value="{{ contract.payer_document.issue_dt.month }}" style="background-color: #3b5998; border-width: 0; width: 16px" readonly/>-
                            <input type="text" name="issue_dt_year" value="{{ contract.payer_document.issue_dt.year }}" style="background-color: #3b5998; border-width: 0; width: 33px" readonly/>
                            <input type="text" name="document_series" value="{{ contract.payer_document.document_series }}" style="background-color: #3b5998; border-width: 0; width: 33px; margin-left: 20px" readonly/>
                            <input type="text" name="document_no" value="{{ contract.payer_document.document_no }}" style="background-color: #3b5998; border-width: 0; width: 50px" readonly/>
                        </div>

                        <button style="background-color: #3b5998; height: 89px;">
                            <span class="glyphicon glyphicon-pencil"/>
                        </button>
                    </div>

                    <div class="editing-field-container">
                        <div class="address-data-box">
                            <div style="display: inline-block; width: 98%;">
                                лист регионов       {{ contract.payer_address.city_txt }}
                            </div>
                            <div style="display: inline-block; width: 98%;">
                                {{ contract.payer_address.street_txt }} - {{ contract.payer_address.house_txt }} - {{ contract.payer_address.building_no }} - {{ contract.payer_address.structure_no }} - {{ contract.payer_address.flat_nm }}
                            </div>
                        </div>
                        <button style="background-color: #3b5998; height: 65px;">
                            <span class="glyphicon glyphicon-pencil"/>
                        </button>
                    </div>

                    <div class="editing-field-container" style="width: calc(50% - 3px); float: left; margin-right: 6px;">
                        <div class="one-field-data-box">
                            <div>
                                +{{ contract.payer_phone_no }}
                            </div>
                        </div>
                        <button style="background-color: #3b5998; height: 40px;">
                            <span class="glyphicon glyphicon-pencil"/>
                        </button>
                    </div>

                    <div class="editing-field-container" style="width: calc(50% - 3px)">
                        <div class="one-field-data-box">
                            <div>
                                {{ contract.payer_inn_no }}
                            </div>
                        </div>
                        <button style="background-color: #3b5998; height: 40px;">
                            <span class="glyphicon glyphicon-pencil"/>
                        </button>
                    </div>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}

{#{% block headercenter %}#}
{#    <li><a href="{% url 'CSPCApp_student_list' %}">Ученики</a></li>#}
{#    <li><a href="{% url 'CSPCApp_student_list' %}">Ученики</a></li>#}
{#    <li>{{ object.studentPerson.initials }}</li>#}
{#{% endblock %}#}

{% block cautions %}
    <div style="z-index: 7;margin-left: 130px; display: inline-block">
        <div class="breadcrumb" style="background-color: rgba(0, 0, 0, 0.2); font-size:12pt; margin: 0px;">
                <li>
                    <div style="height: 23px;">

                        <a href="{{ object.get_update_url }}"  name="typing" value="save" class="buttonstyle" style="background-color: rgba(255, 0, 0, 0.0); width: 200px">Редактировать</a>
                    </div>
                </li>
        </div>
   </div>
{% endblock %}

{% block common_list_sublevel %}
    <div class="sidebar-element" style="background-color: #8b9dc3">
        Просмотр персоны
    </div>
{% endblock %}